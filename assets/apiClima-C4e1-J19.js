const o="818386117f13b8efbb4cc19d7574ef61";function n(r){return r.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const s=async r=>{try{let t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${r},br&units=metric&appid=${o}`),a=await t.json();if(a.cod==="404"||a.cod===404){const e=n(r);t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e},br&units=metric&appid=${o}`),a=await t.json(),(a.cod==="404"||a.cod===404)&&(t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&units=metric&appid=${o}`),a=await t.json())}return a}catch(t){return console.error("Erro ao buscar dados climáticos:",t),null}},p=async(r,t)=>{try{return await(await fetch(`https://api.openweathermap.org/data/2.5/air_pollution?lat=${r}&lon=${t}&appid=${o}`)).json()}catch(a){return console.error("Erro ao buscar qualidade do ar:",a),null}},l=async r=>{try{const t=await s(r);if(!(t!=null&&t.coord))return null;const{lat:a,lon:e}=t.coord;return await(await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${a}&lon=${e}&units=metric&appid=${o}&lang=pt_br`)).json()}catch(t){return console.error("Erro ao buscar previsão do clima:",t),null}};export{s as obterDadosClima,l as obterPrevisaoClima,p as obterQualidadeAr};
